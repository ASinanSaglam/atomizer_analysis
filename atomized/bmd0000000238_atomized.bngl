###
#@BQM_IS:['http://identifiers.org/biomodels.db/MODEL0911110000', 'http://identifiers.org/biomodels.db/BIOMD0000000238']
#@BQM_IS_DESCRIBED_BY:['http://identifiers.org/pubmed/17009101']
#@BQB_HAS_PROPERTY:['http://identifiers.org/mamo/MAMO_0000046']
#@BQB_HAS_TAXON:['http://identifiers.org/taxonomy/9541']
#@BQB_IS_VERSION_OF:['http://identifiers.org/go/GO:0060086', 'http://identifiers.org/omim/605384']
#@creatorEmail:'c.lloyd@auckland.ac.nz'
#@creatorName:'Lloyd Catherine'
#@notes:'This is an atomized translation of an SBML model created on 12/08/2021. The original model has 0 molecules and 0 reactions. The translated model has 3 molecules and 3 rules'
###
begin model
begin parameters
	T_a 21.0
	T_b 38.0
	delta_T 1.57
	kinc 0.0258
	tdose1 24.0
	tdose2 72.0
	tdose3 120.0
	t_day 17.5
	t_night 6.73
	day_length 86400.0
	km 1.1375
	c 3.47
	pEtot 0.144
	kR 5.35
	AMT_dose 3.0
	pEf1 1.0
	pEs1 0.2
	pEf2 3.57
	pEs2 2.43
	pEf3 8.0
	pEs3 50.0
	M_b 3.0
	t_prime 45.12
	alpha 0.2229166
	delta_high_dose 1.0
	Ns 4.0
	Nf 4.0
	Ts 2.45
	Tf 0.368
end parameters
begin compartments
	#volume units: L
	COMpartment 3 1.0
end compartments
begin molecule types
	M
	T
	BR
end molecule types
begin seed species
	M@COMpartment 3.5
	T@COMpartment 38.785
	BR@COMpartment 0
end seed species
begin observables
	Species M M
	Species T T
	Species BR BR
end observables
begin functions
	gNsTs1() =  if((X1>0),(Ks^Ns*X1^(Ns-1)*exp(-Ks*X1)/6),(0))
	gNsTs2() =  if((X2>0),(Ks^Ns*X2^(Ns-1)*exp(-Ks*X2)/6),(0))
	gNsTs3() =  if((X3>0),(Ks^Ns*X3^(Ns-1)*exp(-Ks*X3)/6),(0))
	E_slow() = AMT_dose*pEs2*(gNsTs1 + gNsTs2 + gNsTs3)
	f_prime() = delta_high_dose/(exp(-alpha*(-t_prime - tdose1 + time())) + 1)
	gNfTf1() =  if((X1>0),(Kf^Nf*X1^(Nf-1)*exp(-Kf*X1)/6),(0))
	gNfTf2() =  if((X2>0),(Kf^Nf*X2^(Nf-1)*exp(-Kf*X2)/6),(0))
	gNfTf3() =  if((X3>0),(Kf^Nf*X3^(Nf-1)*exp(-Kf*X3)/6),(0))
	E_fast() = pEf2*(gNfTf1 + gNfTf2 + gNfTf3)
	arRateBR() = -BR*kR + f_prime*(1 - BR)*(E_fast + E_slow)
	kb() = M_b/(-T_a + T_b)
	T_night() = T_b - delta_T/2
	M_night_baseline() = (-T_a + T_night)*(kb + kinc*(-T_b + T_night))
	T_day() = T_b + delta_T/2
	M_day() = (-T_a + T_day)*(kb + kinc*(-T_b + T_day))
	M_night() = M_day*f_prime + M_night_baseline*(1 - f_prime)
	f2_drug() = 0
	k() = f2_drug + kb + kinc*(T - T_b*(BR*pEtot + 1))
	arRateT() = (M - k*(T - T_a))/c
	M_c() =  if((tprime/3600>=t_night&&tprime/3600<t_day),(M_night),(M_day))
	arRateM() = -km*(M - M_c)
	Ks() = Ns/Ts
	Kf() = Nf/Tf
	X3() = -tdose3/24 + time()/24
	X2() = -tdose2/24 + time()/24
	X1() = -tdose1/24 + time()/24
	tprime() = -day_length*min(rint(-0.5 + 3600*time()/day_length), rint(0.5 + 3600*time()/day_length)) + 3600*time()
end functions
begin reaction rules
	0  -> M()@COMpartment arRateM #rateLaw
	0  -> T()@COMpartment arRateT #rateLaw
	0  -> BR()@COMpartment arRateBR #rateLaw
end reaction rules
end model
